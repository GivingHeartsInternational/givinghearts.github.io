(this.webpackJsonphabits=this.webpackJsonphabits||[]).push([[0],{17:function(t,e,s){},23:function(t,e,s){"use strict";s.r(e);var a=s(0),n=s.n(a),c=s(3),i=s.n(c),r=(s(17),s(2)),d=s(9),o=s(10),u=s(12),j=s(11),l=s(4),b=s(1),k=function(t){var e=Object(a.useState)(!1),s=Object(r.a)(e,2),n=s[0],c=s[1],i=Object(a.useState)(t.task.name),d=Object(r.a)(i,2),o=d[0],u=d[1],j=Object(a.useState)(""),l=Object(r.a)(j,2),k=l[0];l[1];return Object(b.jsx)("div",{className:"tasks__item task dropzone",children:Object(b.jsxs)("div",{className:"task__content ".concat(k," ").concat(t.task.done?"done":""),draggable:"true",children:[!n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"task__inner",children:[Object(b.jsx)("input",{name:t.task.id,type:"checkbox",onChange:function(){t.setTaskStatus(t.task.id)},checked:t.task.done}),Object(b.jsx)("h3",{children:t.task.name}),Object(b.jsx)("h3",{children:t.task.done})]}),Object(b.jsxs)("div",{className:"task__buttons",children:[Object(b.jsx)("button",{onClick:function(){t.deleteTask(t.task.id)},children:"Delete"}),Object(b.jsx)("button",{onClick:function(){c(!n)},children:"Edit"})]})]}),n&&Object(b.jsxs)("div",{className:"task__edit",children:[Object(b.jsx)("input",{type:"text",value:o,onChange:function(t){u(t.target.value)}}),Object(b.jsx)("button",{onClick:function(){c(!1),t.editTask(t.task.id,o)},children:"Save"}),Object(b.jsx)("button",{onClick:function(){c(!1)},children:"Reset"})]})]})})},h=s(5),O=function(t){return Object(b.jsx)(h.a,{onDragEnd:function(e){e.destination&&t.reorder(t.tasks,e.source.index,e.destination.index)},children:Object(b.jsx)(h.c,{droppableId:"droppable",children:function(e,s){return Object(b.jsxs)("div",Object(l.a)(Object(l.a)({},e.droppableProps),{},{ref:e.innerRef,className:"tasks__list",children:[t.tasks.map((function(e,s){return Object(b.jsx)(h.b,{draggableId:e.id.toString(),index:s,children:function(s,a){return Object(b.jsx)("div",Object(l.a)(Object(l.a)(Object(l.a)({ref:s.innerRef},s.draggableProps),s.dragHandleProps),{},{className:"tasks__container",children:Object(b.jsx)(k,{task:e,deleteTask:t.deleteTask,setTaskStatus:t.setTaskStatus,editTask:t.editTask,move:t.move},e.id)}))}},e.id)})),e.placeholder]}))}})})},f=function(t){var e=Object(a.useState)(0),s=Object(r.a)(e,2),n=s[0],c=s[1],i={width:"".concat(n,"%")};return Object(a.useEffect)((function(){var e=t.tasks.length||1,s=t.tasks.filter((function(t){return!0===t.done})).length,a=Math.round(100*s/e);c(a)})),Object(b.jsx)("div",{className:"tasks__diagram diagram",children:Object(b.jsx)("div",{className:"diagram__field",children:Object(b.jsx)("div",{className:"diagram__bar",style:i,children:Object(b.jsxs)("span",{className:"diagram_caption",children:[n,"% ",Object(b.jsx)("br",{})," done"]})})})})},p=function(t){var e=Object(a.useState)(""),s=Object(r.a)(e,2),n=s[0],c=s[1];return Object(b.jsxs)("div",{className:"tasks__add",children:[Object(b.jsx)("input",{type:"text",value:n,onChange:function(t){c(t.target.value)},placeholder:"Type new task..."}),Object(b.jsxs)("div",{className:"tasks__control",children:[Object(b.jsx)("button",{onClick:function(){t.addTask(n),c("")},children:"Add"}),Object(b.jsx)("button",{onClick:function(){t.reset()},children:"Reset"})]})]})},x=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(t){var a;return Object(d.a)(this,s),(a=e.call(this,t)).updateStorage=function(t){a.setState({tasks:t}),localStorage.setItem("tasks",JSON.stringify(t))},a.initial=function(){var t=JSON.parse(localStorage.getItem("tasks")),e=t||[];a.updateStorage(e)},a.reset=function(){var t=a.state.tasks;t.map((function(t){t.done=!1,a.setTaskStatus(t)})),a.updateStorage(t)},a.addTask=function(t){if(t){var e=Date.now(),s=a.state.tasks;s.unshift({id:e,name:t,done:!1}),a.updateStorage(s)}},a.editTask=function(t,e){if(e){var s=a.state.tasks;s.map((function(s){return s.id===t?s.name=e:null})),a.updateStorage(s)}},a.deleteTask=function(t){window.confirm("Do you want to delete?")&&function(){var e=a.state.tasks.filter((function(e){return e.id!==t}));e.map((function(t,e){t.order=e})),a.updateStorage(e)}()},a.setTaskStatus=function(t){var e=a.state.tasks;e.map((function(e){return e.id===t?e.done=!e.done:null})),a.updateStorage(e)},a.reorder=function(t,e,s){var n=t.splice(e,1),c=Object(r.a)(n,1)[0];t.splice(s,0,c),a.updateStorage(t)},a.state={tasks:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.initial()}},{key:"render",value:function(){var t=this.state.tasks;return Object(b.jsx)("div",{className:"tasks",children:Object(b.jsxs)("div",{className:"tasks__panel",children:[Object(b.jsx)("h1",{children:"Tasks"}),Object(b.jsx)(p,{addTask:this.addTask,reset:this.reset}),Object(b.jsx)(f,{tasks:this.state.tasks}),t.length?Object(b.jsx)(O,{tasks:t,deleteTask:this.deleteTask,setTaskStatus:this.setTaskStatus,editTask:this.editTask,reorder:this.reorder}):Object(b.jsx)("p",{children:"You have no tasks..."})]})})}}]),s}(a.Component),m=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(x,{})})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.edf6814a.chunk.js.map