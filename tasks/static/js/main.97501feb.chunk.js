(this.webpackJsonphabits=this.webpackJsonphabits||[]).push([[0],{17:function(t,e,s){},23:function(t,e,s){"use strict";s.r(e);var a,n=s(0),c=s.n(n),i=s(6),r=s.n(i),d=(s(17),s(7)),o=s(5),l=s(3),j=s(8),u={tasks:null!==(a=JSON.parse(localStorage.getItem("tasks")))&&void 0!==a?a:[]},b=Object(j.b)({name:"tasks",initialState:u,reducers:{addTask:function(t,e){t.tasks.unshift(e.payload),localStorage.setItem("tasks",JSON.stringify(t.tasks))},editTask:function(t,e){t.tasks.map((function(t){return t.id===e.payload.id?t.name=e.payload.newName:null})),localStorage.setItem("tasks",JSON.stringify(t.tasks))},deleteTask:function(t,e){t.tasks=t.tasks.filter((function(t){return t.id!==e.payload})),localStorage.setItem("tasks",JSON.stringify(t.tasks))},setTaskStatus:function(t,e){t.tasks.map((function(t){return t.id===e.payload?t.done=!t.done:null})),localStorage.setItem("tasks",JSON.stringify(t.tasks))},resetTasksStatuses:function(t){t.tasks.map((function(t){t.done=!1})),localStorage.setItem("tasks",JSON.stringify(t.tasks))},reorderTasks:function(t,e){var s=t.tasks.splice(e.payload.startIndex,1),a=Object(o.a)(s,1)[0];t.tasks.splice(e.payload.endIndex,0,a),localStorage.setItem("tasks",JSON.stringify(t.tasks))}}}),k=b.actions,O=k.addTask,f=k.editTask,h=k.deleteTask,x=k.setTaskStatus,m=k.reorderTasks,p=k.resetTasksStatuses,g=b.reducer,v=s(1),S=function(t){var e=Object(n.useState)(!1),s=Object(o.a)(e,2),a=s[0],c=s[1],i=Object(n.useState)(t.task.name),r=Object(o.a)(i,2),d=r[0],j=r[1],u=Object(n.useState)(""),b=Object(o.a)(u,2),k=b[0],O=(b[1],Object(l.c)());return Object(v.jsx)("div",{className:"tasks__item task dropzone",children:Object(v.jsxs)("div",{className:"task__content ".concat(k," ").concat(t.task.done?"done":""),draggable:"true",children:[!a&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"task__inner",children:[Object(v.jsx)("input",{name:t.task.id,type:"checkbox",onChange:function(){O(x(t.task.id))},checked:t.task.done}),Object(v.jsx)("h3",{children:t.task.name}),Object(v.jsx)("h3",{children:t.task.done})]}),Object(v.jsxs)("div",{className:"task__buttons",children:[Object(v.jsx)("button",{onClick:function(){window.confirm("Do you want to delete?")&&O(h(t.task.id))},children:"Delete"}),Object(v.jsx)("button",{onClick:function(){c(!a)},children:"Edit"})]})]}),a&&Object(v.jsxs)("div",{className:"task__edit",children:[Object(v.jsx)("input",{type:"text",value:d,onChange:function(t){j(t.target.value)}}),Object(v.jsx)("button",{onClick:function(){c(!1),d&&O(f({id:t.task.id,newName:d}))},children:"Save"}),Object(v.jsx)("button",{onClick:function(){c(!1)},children:"Cancel"})]})]})})},_=s(9),N=function(t){var e=Object(l.c)();Object(l.d)((function(t){return t.tasks.tasks}));return Object(v.jsx)(_.a,{onDragEnd:function(t){t.destination&&e(m({startIndex:t.source.index,endIndex:t.destination.index}))},children:Object(v.jsx)(_.c,{droppableId:"droppable",children:function(e,s){return Object(v.jsxs)("div",Object(d.a)(Object(d.a)({},e.droppableProps),{},{ref:e.innerRef,className:"tasks__list",children:[t.tasks.map((function(e,s){return Object(v.jsx)(_.b,{draggableId:e.id.toString(),index:s,children:function(s,a){return Object(v.jsx)("div",Object(d.a)(Object(d.a)(Object(d.a)({ref:s.innerRef},s.draggableProps),s.dragHandleProps),{},{className:"tasks__container",children:Object(v.jsx)(S,{task:e,move:t.move},e.id)}))}},e.id)})),e.placeholder]}))}})})},y=function(t){var e=Object(n.useState)(0),s=Object(o.a)(e,2),a=s[0],c=s[1],i=(Object(l.c)(),Object(l.d)((function(t){return t.tasks.tasks}))),r={width:"".concat(a,"%")};return Object(n.useEffect)((function(){!function(){var t=i.length||1,e=i.filter((function(t){return!0===t.done})).length,s=Math.round(100*e/t);c(s)}()}),[]),Object(v.jsx)("div",{className:"tasks__diagram diagram",children:Object(v.jsx)("div",{className:"diagram__field",children:Object(v.jsx)("div",{className:"diagram__bar",style:r,children:Object(v.jsxs)("span",{className:"diagram_caption",children:[a,"% ",Object(v.jsx)("br",{})," done"]})})})})},I=function(t){var e=Object(n.useState)(""),s=Object(o.a)(e,2),a=s[0],c=s[1],i=Object(l.c)();return Object(v.jsxs)("div",{className:"tasks__add",children:[Object(v.jsx)("input",{type:"text",value:a,onChange:function(t){c(t.target.value)},placeholder:"Type new task..."}),Object(v.jsxs)("div",{className:"tasks__control",children:[Object(v.jsx)("button",{onClick:function(){if(a){var t=Date.now();i(O({name:a,id:t,done:!1})),c("")}},children:"Add"}),Object(v.jsx)("button",{onClick:function(){i(p())},children:"Reset"})]})]})},T=function(){Object(l.c)();var t=Object(l.d)((function(t){return t.tasks.tasks}));return Object(v.jsx)("div",{className:"tasks",children:Object(v.jsxs)("div",{className:"tasks__panel",children:[Object(v.jsx)("h1",{children:"Tasks"}),Object(v.jsx)(I,{}),Object(v.jsx)(y,{}),t.length?Object(v.jsx)(N,{tasks:t}):Object(v.jsx)("p",{children:"You have no tasks..."})]})})},w=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(T,{})})},C=Object(j.a)({reducer:{tasks:g}});r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(l.a,{store:C,children:Object(v.jsx)(w,{})})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.97501feb.chunk.js.map